 <div class="container">
  <h2>Search User</h2>

  <%= search_form_for @q, class: "form-horizontal" do |f| %>
    <div class="form-group">
      <%= f.label :email, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.search_field :email_cont, class: "form-control", placeholder: "Search by email" %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :name, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.search_field :name_cont, class: "form-control", placeholder: "Search by name" %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :articles_title, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.search_field :articles_title_start, class: "form-control", placeholder: "Search by articles title" %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :name_or_email_or_articles_title, class: "control-label col-sm-2" %>
      <div class="col-sm-10">
        <%= f.search_field :name_or_email_or_articles_title_cont, class: "form-control", placeholder: "Search by name, email or article title" %>
      </div>
    </div>

    <div class="form-group">        
      <div class="col-sm-offset-2 col-sm-10">
        <%= f.submit "Search", class: "btn btn-default" %>
      </div>
    </div>
  <% end %>

  <table class="table">
    <tr>
      <th>Id</th>
      <th>Email</th>
      <th>Name</th>
      <th>Article title</th>
    </tr>
    
    <% @users.each do |user| %>
      <tr>
        <td><%= user.id %></td>
        <td><%= user.email %></td>
        <td><%= user.name %></td>
        <td></td>
      </tr>
      <% user.articles.each do |article| %>
      <tr>
        <td></td>
        <td></td>
        <td></td>
        <td><%= article.title %></td>
      <tr>
      <% end %>    
    <% end %>
  </table>
</div>
